<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
  <h:head>
    <style>
      tr,th,td{border: solid 1px}
      table{width: 70%; margin: auto;}
      form,h1{text-align: center}
    </style>
    <ui:include src="style.xhtml" />
  </h:head>
  <body>
    <ui:include src="side.xhtml" />
    <div class="main">
      <ui:include src="header.xhtml" />
      <f:view>
        <h:form>
          <c:if test="#{param['list'] eq 'departments'}">
            <h1>Departments</h1>
            <h:dataTable value="#{departmentManagedBean.departments}" var="item" cellspacing="0"
                         style="border-collapse: collapse;">
              <h:column>
                <f:facet name="header">Code</f:facet>
                <h:link value="#{item.code}" outcome="manageDepartment" includeViewParams="true">
                  <f:param name="code" value="#{item.code}"/>
                </h:link>
              </h:column>
              <h:column>
                <f:facet name="header">Name</f:facet>
                <h:outputText value="#{item.name}"></h:outputText>
              </h:column>
              <h:column>
                <f:facet name="header">Head</f:facet>
                <h:outputText value="#{item.headName}"></h:outputText>
              </h:column>
            </h:dataTable>
          </c:if>
        </h:form>
      </f:view>
    </div>
    </body>
    <ui:include src="after.xhtml" />
</html>